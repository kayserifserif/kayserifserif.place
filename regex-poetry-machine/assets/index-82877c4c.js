(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function o(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(e){if(e.ep)return;e.ep=!0;const n=o(e);fetch(e.href,n)}})();function h(t,a=!1){if(t.length===0)return"";if(t.length===1||t.length>1&&t.every(n=>n===t[0]))return t[0];const o=t.filter(n=>n!=="");return o.length===t.length-1?`(${o.join("|")})?`:a?`(${t.join("|")})`:t.join("|")}function B(t,a=!0){if(t.length===0)return"";if(t.length===1||t.length>1&&t.every(c=>c===t[0]))return t[0];const o=E(t),r=t.map(c=>m(c,o.length));if(r.every(c=>c.length===1))return a?o+`[${r.join("")}]`:o+`(${r.join("|")})`;const n=r.filter(c=>c!=="");return n.length===1?Array.from(n[0]).length===1?o+`${n[0]}?`:o+`(${n[0]})?`:o?n.length===r.length-1?o+`(${n.join("|")})?`:o+`(${r.join("|")})`:h(t)}function E(t){const a=t.toSorted((e,n)=>e.length-n.length);let o="";const r=Array.from(a[0]);for(let e=0;e<r.length;e++){const n=r[e];for(let i=1;i<a.length;i++){const c=Array.from(a[i])[e];if(c!==void 0&&n!==c)return o}o+=n}return o}function $(t,a=!0){if(t.length===0)return"";if(t.length===1||t.length>1&&t.every(c=>c===t[0]))return t[0];const o=A(t),r=t.map(c=>m(c,0,c.length-o.length));if(r.every(c=>c.length===1))return a?`[${r.join("")}]`+o:`(${r.join("|")})`+o;const n=r.filter(c=>c!=="");return n.length===1?Array.from(n[0]).length===1?`${n[0]}?`+o:`(${n[0]})`+o:o?`(${r.join("|")})`+o:h(r)}function A(t){const a=t.toSorted((e,n)=>e.length-n.length);let o="";const r=Array.from(a[0]);for(let e=0;e<r.length;e++){const n=r[r.length-1-e];for(let i=1;i<a.length;i++){const l=Array.from(a[i]),c=l[l.length-1-e];if(c!==void 0&&n!==c)return o}o=n+o}return o}function L(t,a=!0,o=!1){if(t.length===0)return"";if(t.length===1||t.length>1&&t.every(u=>u===t[0]))return t[0];const r=E(t),e=A(t),n=t.map(u=>m(u,r.length,u.length-e.length));if(n.every(u=>u.length===1))return a?r+`[${n.join("")}]`+e:r+`(${n.join("|")})`+e;const l=n.filter(u=>u!=="");return l.length===1?l[0].length===1?r+`${l[0]}?`+e:r+`(${l[0]})?`+e:r||e?l.length===n.length-1?r+`(${l.join("|")})?`+e:r+`(${n.join("|")})`+e:h(t,o)}function M(t,a=!0){if(t.length===0)return"";if(t.length===1||t.length>1&&t.every(s=>s===t[0]))return t[0];const o=H(t);if(!o)return h(t);const r=t.map(s=>s.split(o)),e=Array.from(new Set(r.map(([s])=>s))),n=Array.from(new Set(r.map(([,s])=>s)));let i="";e.filter(s=>s!=="").length>0&&(i=L(e,a,!0));let l="";return n.filter(s=>s!=="").length>0&&(l=L(n,a,!0)),i+o+l}function H(t){const a=t.toSorted((r,e)=>r.length-e.length),o=Array.from(a[0]);for(let r=o.length;r>0;r--)for(let e=0;e<=o.length-r;e++){const n=m(a[0],e,e+r);let i=!0;for(let l=1;l<a.length;l++)a[l].indexOf(n)===-1&&(i=!1);if(i)return n}return""}function m(t,a,o){return Array.from(t).slice(a,o).join("")}const x=document.querySelector(".output"),q=x.querySelector(".patterns"),j=document.querySelector(".switch-button");j.addEventListener("click",()=>{const t=Array.from(document.querySelectorAll(".string-input")),a=t.map(o=>o.value);a.length>=2&&(t[1].value=a[0],t[0].value=a[1]),y()});const P=document.querySelector(".add-button");P.addEventListener("click",()=>C());function C(){const t=document.querySelectorAll(".string-input-container"),a=document.querySelector(".string-input-container").cloneNode(!0),o=t.length+1,r=document.querySelector("button[type='submit']");r.innerHTML="Make a match set";const e=a.querySelector("label");e.setAttribute("for",`string${o}`),e.innerHTML=`String ${o}`;const n=a.querySelector("input");n.setAttribute("name",`string${o}`),n.setAttribute("id",`string${o}`),n.value="";const i=document.createElement("button");return a.appendChild(i),i.type="button",i.classList.add("remove-input-button"),i.innerHTML="Remove",i.addEventListener("click",()=>{a.remove();const l=document.querySelectorAll(".string-input-container");r.innerHTML=l.length>2?"Make a match set":"Make a match pair"}),t[t.length-1].insertAdjacentElement("afterend",a),a}const I=document.querySelectorAll("input[name='group']");I.forEach(t=>t.addEventListener("input",()=>{q.classList.contains("hidden")||y()}));const b=document.querySelector(".input-form");b.addEventListener("submit",t=>{t.preventDefault(),y()});const k=document.querySelectorAll(".save-button");k.forEach(t=>t.addEventListener("click",()=>{const a=t.closest(".pattern").querySelector("dd").textContent,o=Array.from(document.querySelectorAll(".string-input")).map(e=>e.value).filter(e=>e!==""),r=b.group.value==="brackets";w(a,o,r)}));const T=document.querySelector(".copy-button");T.addEventListener("click",R);function y(t,a){q.classList.remove("hidden");const o=Array.from(document.querySelectorAll(".string-input")),r=Array.from(new Set(o.map(p=>p.value).filter(p=>p!=="")));if(a!==void 0){const p=document.querySelector(`#group--${a?"brackets":"parentheses"}`);p.checked=!0}const e=b.group.value==="brackets",n=[],i=M(r,e);n.push(i);const l=document.querySelector("#pattern--middle");l.querySelector("dd").innerHTML=i;const c=h(r),s=document.querySelector("#pattern--alternation");n.includes(c)?s.classList.add("duplicate"):(s.classList.remove("duplicate"),n.push(c)),s.querySelector("dd").innerHTML=c;const u=L(r,e),d=document.querySelector("#pattern--begin-end");n.includes(u)?d.classList.add("duplicate"):(d.classList.remove("duplicate"),n.push(u)),d.querySelector("dd").innerHTML=u;const f=B(r,e),g=document.querySelector("#pattern--begin");n.includes(f)?g.classList.add("duplicate"):(g.classList.remove("duplicate"),n.push(f)),g.querySelector("dd").innerHTML=f;const v=$(r,e),S=document.querySelector("#pattern--end");if(n.includes(v)?S.classList.add("duplicate"):(S.classList.remove("duplicate"),n.push(v)),S.querySelector("dd").innerHTML=v,t){const p=document.querySelectorAll(".pattern");t===i&&(p.forEach(O=>O.classList.remove("primary")),l.classList.add("primary"))}}function w(t,a,o){const r=document.querySelector(".saved");r.classList.remove("hidden");const e=document.createElement("div");e.classList.add("saved-entry"),e.setAttribute("data-group",o?"brackets":"parentheses"),r.appendChild(e);const n=document.createElement("div");n.classList.add("saved-strings"),a.forEach(u=>{const d=document.createElement("div");d.classList.add("saved-string"),d.innerHTML=u,n.appendChild(d)}),e.appendChild(n);const i=document.createElement("div");i.classList.add("saved-pattern"),i.innerHTML=t,e.appendChild(i);const l=document.createElement("div");l.classList.add("end-controls"),l.classList.add("controls"),e.appendChild(l);const c=document.createElement("button");c.type="button",c.classList.add("load-button"),c.classList.add("button--secondary"),c.innerHTML="Load match pair",c.addEventListener("click",()=>N(t,a,o)),l.appendChild(c);const s=document.createElement("button");s.type="button",s.classList.add("remove-entry-button"),s.classList.add("button--secondary"),s.innerHTML="Remove",s.addEventListener("click",()=>F(e)),l.appendChild(s)}function N(t,a,o){const r=Array.from(document.querySelectorAll(".string-input-container"));if(r.length<a.length)for(let e=0;e<a.length-r.length;e++){const n=C();r.push(n)}else if(r.length>a.length)for(let e=r.length-1;e>a.length-1;e--)r[e].remove();for(let e=0;e<r.length;e++){const n=r[e].querySelector(".string-input");n.value=a[e]}y(t,o)}function F(t){t.remove()}async function R(){const a=Array.from(document.querySelectorAll(".saved-pattern")).map(o=>o.textContent).join(`
`);try{await navigator.clipboard.writeText(a),console.log("Copied to clipboard:",a)}catch(o){console.error("Couldn't copy text:",o)}}
